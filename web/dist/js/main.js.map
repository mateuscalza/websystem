{"version":3,"sources":["main.ts"],"names":["WindowDefaults","WindowDefaults.constructor","WindowDefaults.width","WindowDefaults.height","WindowDefaults.left","WindowDefaults.top","WindowDefaults.set","DataConnector","DataConnector.constructor","DataConnector.get","DataConnector.post","DataConnector.on","DataConnector.emit","MenuIcon","MenuIcon.constructor","WindowElement","WindowElement.constructor","WindowElement.constructor.start","Application","Application.constructor","Application.show","FileManager","FileManager.constructor","FileManager.navigate","FileManager.render","FileManager.mount","Calc","Calc.constructor","Calc.mount","Calc.calculate"],"mappings":"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","file":"main.js","sourcesContent":["/// <reference path=\"../tools/typings/tsd.d.ts\" />\n\ninterface MathJS {\n    eval(formula: string): any\n    format(input: any): string\n}\ndeclare var math: MathJS;\n\ninterface FileManagerItem {\n    name: string;\n    type: string;\n}\n\nvar zIndex: number = 1;\n\n\nclass WindowDefaults {\n    static width(): number {\n        return Math.min($(window).width() * 0.7, 400);\n    }\n\n    static height(): number {\n        return Math.max(Math.min($(window).height() * 0.6, $(window).height() - $('#bar').height()), 120)\n    }\n\n    static left(): number {\n        return Math.max(20, $(window).width() / 2.5 - this.width() / 2);\n    }\n\n    static top(): number {\n        return Math.max(20, $(window).height() / 2.5 - this.height() / 2);\n    }\n\n    static set(windowElement: JQuery, plus: number): void {\n        plus = typeof plus === 'undefined' ? 0 : plus;\n        windowElement.width(this.width()).height(this.height()).css({\n            top: this.top() + plus,\n            left: this.left() + plus\n        }).find('.content').height(this.height() - 50);\n    }\n}\n\nclass DataConnector {\n\n    dataNamespace: string;\n    socket: SocketIOClient.Socket;\n\n    constructor(dataNamespace: string) {\n        this.dataNamespace = dataNamespace;\n        this.socket = io.connect('http://' + location.hostname + ':8000/' + this.dataNamespace);\n    }\n\n    get(action: string, data?: Object): PromiseLike<Object> {\n        return $.ajax({\n            url: this.dataNamespace + '/' + action,\n            data: data,\n            type: 'GET'\n        });\n    }\n\n    post(action: string, data?: Object): PromiseLike<Object> {\n        return $.ajax({\n            url: this.dataNamespace + '/' + action,\n            data: data,\n            type: 'POST'\n        });\n    }\n\n    on(action: string, callback: Function): SocketIOClient.Emitter {\n        return this.socket.on(action, callback);\n    }\n\n    emit(action: string, data?: Object): SocketIOClient.Emitter {\n        return this.socket.emit.apply(this, arguments);\n    }\n}\n\nclass MenuIcon {\n    element: JQuery;\n\n    constructor(icon, name) {\n        this.element = $('<a></a>', {\n            href: 'javascript:;',\n            title: name\n        }).append($('<i></i>', {\n            addClass: 'fa ' + icon\n        }));\n        $('#bar ul').append($('<li></li>').append(this.element));\n    }\n}\n\nclass WindowElement {\n    element: JQuery;\n    contentElement: JQuery;\n    titleElement: JQuery;\n\n\n    constructor(title: string) {\n        var newWindowElement = $('<div></div>', {\n            addClass: 'window'\n        });\n        this.titleElement = $('<span></span>', {\n            addClass: 'title'\n        }).text(title).append('<i class=\"fa fa-minus hide\"></i>');\n        this.contentElement = $('<div></div>', {\n            addClass: 'content'\n        });\n\n        this.titleElement.on('dblclick', function(evt) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            let windowElement: JQuery = $(this).parent('.window');\n            let height = $(window).height() - $('#bar').height();\n            let width = $(window).width();\n\n            if (windowElement.width() !== width && windowElement.height() !== height) {\n                windowElement.width(width).height(height).css({\n                    top: 0,\n                    left: 0\n                }).children('.content').height(height - 50);\n            } else {\n                WindowDefaults.set(windowElement, 0);\n            }\n        }).find('.hide').on('click', function() {\n            $(this).closest('.window').hide();\n        });\n\n        newWindowElement.hide();\n\n        newWindowElement.append(this.titleElement, this.contentElement).appendTo(document.body);\n\n        WindowDefaults.set(newWindowElement, ($('.window').length - 1) * 35);\n\n        newWindowElement.draggable({\n            containment: 'body',\n            handle: '.title',\n            start() {\n                let actualZIndex = $(this).css('zIndex');\n                if (!$.isNumeric(actualZIndex) || parseInt(actualZIndex) != zIndex) {\n                    $(this).css('zIndex', ++zIndex);\n                }\n            }\n        });\n\n        newWindowElement.resizable({\n            resize: function() {\n                $(this).find('.content').height($(this).height() - 50);\n            },\n            stop: function() {\n                $(this).find('.content').height($(this).height() - 50);\n            },\n            handles: 'all',\n            minHeight: 120,\n            minWidth: 120\n        });\n\n        newWindowElement.on('click', function() {\n            let actualZIndex = $(this).css('zIndex');\n            if (!$.isNumeric(actualZIndex) || parseInt(actualZIndex) != zIndex) {\n                $(this).css('zIndex', ++zIndex);\n            }\n        });\n\n        this.element = newWindowElement;\n    }\n}\n\nabstract class Application {\n    name: string;\n    windows: [WindowElement];\n    icon: MenuIcon;\n\n    constructor() {\n        var self = this;\n\n        self.icon.element.click(function() {\n            self.show();\n        });\n    }\n\n    show() {\n        this.windows.forEach((windowElement) => {\n            windowElement.element.toggle();\n        });\n    }\n}\n\nclass FileManager extends Application {\n\n    server: DataConnector;\n    main: WindowElement;\n    url: JQuery;\n    go: JQuery;\n    results: JQuery;\n    items: [Object];\n    path: string;\n\n    constructor() {\n        this.name = 'File Manager';\n\n        this.server = new DataConnector('file-manager');\n\n        this.main = new WindowElement(this.name);\n\n        this.windows = [\n            this.main\n        ];\n        this.icon = new MenuIcon('fa-folder', this.name);\n\n        super();\n\n        this.mount();\n        this.navigate('/');\n    }\n\n    navigate(path: string){\n        var self = this;\n\n        this.path = path;\n        this.url.val(this.path);\n\n        this.server.get('items', {path: this.path}).then(function(items: [Object]){\n            self.items = items;\n            self.render();\n        });\n    }\n\n    render(){\n        var self = this;\n        this.results.empty();\n        this.items.forEach(function(item: FileManagerItem){\n            let result = $('<a></a>', {\n                href: '#',\n                addClass: 'button file-manager-item',\n                text: item.name\n            })\n            .data('type', item.type)\n            .data('path', self.path.replace(/\\/$/,'') + '/' + item.name)\n            .click(function(){\n                if($(this).data('type') === 'dir'){\n                    self.navigate($(this).data('path'));\n                }\n            });\n            self.results.append(result);\n        });\n    }\n\n    mount() {\n        var self = this;\n\n        this.main.contentElement.addClass('file-manager');\n\n        this.url = $('<input/>', {\n            rows: 1,\n            addClass: 'file-manager-input'\n        }).appendTo(this.main.contentElement);\n\n        this.go = $('<button></button>', {\n            text: 'Go',\n            addClass: 'file-manager-button'\n        }).appendTo(this.main.contentElement).click(function(){\n            self.navigate(self.url.val());\n        });\n\n        this.results = $('<div></div>', {\n            addClass: 'file-manager-results'\n        }).appendTo(this.main.contentElement);\n    }\n\n}\n\nclass Calc extends Application {\n\n    main: WindowElement;\n    input: JQuery;\n    button: JQuery;\n    results: JQuery;\n\n    constructor() {\n        this.name = 'Calculator';\n\n        this.main = new WindowElement(this.name);\n\n        this.windows = [this.main];\n        this.icon = new MenuIcon('fa-calculator', this.name);\n\n        super();\n\n        this.mount();\n    }\n\n    mount() {\n        this.main.contentElement.addClass('calc');\n\n        this.input = $('<input/>', {\n            rows: 1,\n            addClass: 'calc-input'\n        }).appendTo(this.main.contentElement);\n\n        this.button = $('<button></button>', {\n            text: 'Calc',\n            addClass: 'calc-button'\n        }).appendTo(this.main.contentElement).click(this.calculate.bind(this));\n\n        this.results = $('<ul></ul>', {\n            addClass: 'calc-results'\n        }).appendTo(this.main.contentElement);\n    }\n\n    calculate(event: Event) {\n        let formula: string = this.input.val();\n        let result: JQuery = $('<li></li>');\n        try {\n            if (!formula.trim().length) {\n                throw new Error('Empty formula');\n            }\n            let formulaElement: JQuery = $('<span></span>', {\n                addClass: 'info'\n            });\n            formulaElement.text(formula.replace(/([^A-Za-z0-9\\.])/gi, ' $1 ').replace(/\\s\\s+/gi, ' ').trim());\n            result.append(math.format(math.eval(formula)), formulaElement);\n        } catch (err) {\n            let errElement = $('<i></i>').text(err.message);\n            result.append(errElement);\n        }\n\n        this.results.prepend(result);\n    }\n}\n\n\nnew FileManager();\nnew Calc();\n"],"sourceRoot":"/source/"}